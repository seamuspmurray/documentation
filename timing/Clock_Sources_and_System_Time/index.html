<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://docs.seamusmurray.com/timing/Clock_Sources_and_System_Time/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Clock Sources and System Time - Seamus Murray's Notes about Linux and System Engineering</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Clock Sources and System Time";
        var mkdocs_page_input_path = "timing/Clock_Sources_and_System_Time.md";
        var mkdocs_page_url = "/timing/Clock_Sources_and_System_Time/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> Seamus Murray's Notes about Linux and System Engineering
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Linux</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="#">Clustering</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Clustering/HA_LVM_automatic_failover/">HA LVM automatic failover</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Clustering/HA_LVM_automatic_failover_manual_fence_override/">HA LVM automatic failover manual fence override</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Clustering/HA_LVM_cluster_build/">HA LVM cluster build</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Clustering/HA_LVM_cluster_build_guide/">HA LVM cluster build guide</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Clustering/HA_LVM_manual_failover.txt/">HA LVM manual failover.txt</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Clustering/RHEL4_cluster_installation/">RHEL4 cluster installation</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Clustering/homemade_cluster/">Homemade cluster</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Clustering/simple.cluster.conf/">Simple.cluster.conf</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Commands</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Commands/email_on_linux/">change mail relay for postfix</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Commands/hot_add_memory/">Hot add memory</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Core Utils</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Core_Utils/awk/">Awk</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Core_Utils/bash_shortcuts/">Bash shortcuts</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Core_Utils/diff_and_cut_to_compare_part_of-lines_in_log_files/">Diff and cut to compare part of lines in log files</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Core_Utils/linux_proccess_signaling/">Linux proccess signaling</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Core_Utils/rename/">Rename</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Core_Utils/spacecmd_breaking_up_large_groups_of_hosts_with_awk/">Spacecmd breaking up large groups of hosts with awk</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Core_Utils/user_creation/">User creation</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Core_Utils/vim_sudo/">Vim sudo</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Core_Utils/watch_and_timeout/">Watch and timeout</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Disks and File Systems</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Disks_and_File_Systems/Extend_lvm_filesystem/">Extend lvm filesystem</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Disks_and_File_Systems/Linux_LVM_Logical_Volume_Manager/">Linux LVM Logical Volume Manager</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Disks_and_File_Systems/Listing_Oracle_ASM_disks/">Listing Oracle ASM disks</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Disks_and_File_Systems/Multipath_and_NetApp_fixes/">Multipath and NetApp fixes</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Disks_and_File_Systems/Online_lun_resize/">Online lun resize</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Disks_and_File_Systems/RHEL_floppy_kickstart/">RHEL floppy kickstart</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Disks_and_File_Systems/boot_cdrom_dvdrom/">Boot cdrom dvdrom</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Disks_and_File_Systems/disk_filesystem_partition_imaging_using_squashfs_and_dd/">Disk filesystem partition imaging using squashfs and dd</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Disks_and_File_Systems/filesystem_shuffle/">Filesystem shuffle</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Disks_and_File_Systems/rsync/">Rsync</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Disks_and_File_Systems/shrink_lvm_filesystem/">Shrinking a Linux filesystem on LVM</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Firewalls and Security</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Firewalls_and_Security/auditd_rules/">Auditd rules</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Firewalls_and_Security/iptables_notes/">My notes on IPtables</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Monitoring</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Monitoring/nagios_2.6_install/">Nagios 2.6 install</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Networking</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Networking/check_dns_records/">Check dns records</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Networking/determine_the_routes_a_packet_will_take/">Determine the routes a packet will take</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Networking/linux_networking/">Linux networking</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Networking/local_IP_address_survey/">local IP address survey</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">RedHat</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/RedHat/kickstart/">Kickstart</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">Satellite spacewalk</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../linux/RedHat/satellite_spacewalk/perl_script_to_calulate_uptime_of_satellite_clients/">Perl script to calulate uptime of satellite clients</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../linux/RedHat/satellite_spacewalk/replacing_your_satellite_certificate/">Replacing your satellite certificate</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../linux/RedHat/satellite_spacewalk/satellite_certificate_licence_install/">Satellite certificate licence install</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../linux/RedHat/satellite_spacewalk/using_spacecmd/">Using spacecmd</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">Yum rpm</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../linux/RedHat/yum_rpm/create_local_repos_from_redhat_install_media/">Create local repos from redhat install media</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../linux/RedHat/yum_rpm/working_with_yum_and_rpm/">Working with yum and rpm</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../linux/RedHat/yum_rpm/yum_and_rpm/">Yum and rpm</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Software Packaging</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Software_Packaging/apt_get/">Apt get</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Orchestration</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../orchestration/puppet_study_notes/">Puppet study notes</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Programming</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="#">C Programming</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../programming/C_Programming/fork_and_maloc_demo/">Fork and maloc demo</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../programming/C_Programming/fork_demo_menu/">Fork demo menu</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../programming/C_Programming/linux_clocksource_benchmark/">Linux clocksource benchmark</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../programming/C_Programming/programmable_keyboard/">Programmable keyboard</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Scripting</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/IP_survey/">IP survey</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_and_grep_script_to_compare_2_lists/">Bash and grep script to compare 2 lists</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_argument_shift_until_loop/">Bash argument shift until loop</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_argument_shift_while_loop/">Bash argument shift while loop</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_arguments/">Bash arguments</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_array/">Bash array</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_capture_keyboard_entry/">Bash capture keyboard entry</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_case/">Bash case</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_column_tally/">Bash column tally</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_convert_kilobytes_to_MB_GB_TB_PB/">bash convert kilobytes to MB GB TB PB</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_fail_and_exit/">Bash fail and exit</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_fail_trap/">Bash fail trap</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_function/">Bash function</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_functions/">Bash functions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_local_vs_global_variables/">Bash local vs global variables</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_nested_if_else/">Bash nested if else</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_read_input/">Bash read input</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_scripting/">Bash scripting</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_select/">Bash select</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_string_comparison/">Bash string comparison</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_test_to_only_run_as_root/">Bash test to only run as root</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_tips/">Bash tips</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_trap_user_ctrl-c/">Bash trap user ctrl c</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_use_a_file_to_control_script_operation/">Bash use a file to control script operation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_validate_DNS_entries/">bash validate DNS entries</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_wait_for_user_input/">Bash wait for user input</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/expect/">Expect</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/script_to_markdown/">Script to markdown</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/simulate_site_failure/">Simulate site failure</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Timing</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Clock Sources and System Time</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#definitions-of-the-terms-used-in-this-document">Definitions of the terms used in this document: </a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#x86-clock-sources-and-system-timing">x86 Clock Sources and System Timing</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#rtc-real-time-clock">RTC (Real Time Clock)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#acpi-pm-advanced-configuration-and-power-interface-power-management">ACPI PM (Advanced Configuration and Power Interface Power Management)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#tsc-time-stamp-counter">TSC (Time Stamp Counter)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#hpet-high-precision-event-timer">HPET (High Precision Event Timer)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#pit-programmable-interval-timer">PIT (Programmable Interval Timer)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#wall-clock-time">Wall Clock time</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#system-time">System Time</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#reference-clock-time">Reference Clock / Time</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#maintaining-system-time-on-a-single-core-fixed-frequency-x86-system">Maintaining System Time on a single core fixed frequency x86 system  </a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#advancements-of-x86-cpus-and-the-effects-upon-the-monotonic-tsc">Advancements of x86 CPU's and the effects upon the MonoTonic TSC </a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#brief-overview-of-the-advances-in-x86-system-architecture-that-affected-the-previously-used-method-of-using-a-simple-monotonic-counter-tsc-to-maintain-time">Brief overview of the advances in X86 system architecture that affected the previously used method of using a simple monotonic counter (TSC) to maintain time.</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#as-x86-system-architecture-became-more-complex-the-tscs-and-how-they-were-used-had-to-adapt">As X86 system architecture became more complex, the TSCs and how they were used had to adapt.</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#so-we-now-have-4-tsc-related-cpuid-flags-for-the-different-tsc-feature-sets">So we now have 4 TSC-related CPUID flags for the different TSC feature sets.</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#cpu-bugs-and-clock-sources">CPU Bugs and Clock Sources</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#example-c-programs-to-poll-the-tsc-hpet-and-acpi_pm-clock-sources">Example C programs to poll the TSC, HPET, and ACPI_PM clock sources</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#example-c-program-to-read-the-tsc">Example C Program to read the TSC</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#example-c-program-to-read-the-hpet">Example C program to read the HPET</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#example-c-program-to-read-the-rtc">Example C program to read the RTC</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#example-c-program-to-read-the-acpi_pm">Example C program to read the ACPI_PM</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#sources-for-this-document">Sources for this document: </a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Clock_Synchronization_and_NTP/">Clock Synchronization and NTP</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Linux_clocksource_benchmark/">Linux clocksource benchmark</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../NTP_Authentication/">NTP Authentication</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Setting_time_like_it_is_1989/">Setting time like it is 1989</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">Seamus Murray's Notes about Linux and System Engineering</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Timing</li>
      <li class="breadcrumb-item active">Clock Sources and System Time</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h2 id="seamuss-notes-and-sample-code-related-to-clock-sources-and-system-time">Seamus's notes and sample code related to Clock Sources and System Time.</h2>
<p>You also may wish to see my <a href="../Clock_Synchronization_and_NTP/">Clock Syncronization and NTP</a> page.</p>
<ul>
<li><a href="#Clock_Sources"> Clock Sources and System Time</a></li>
<li><a href="#Fixed_Frequency"> Maintaining System Time on a single core fixed frequency x86 system</a></li>
<li><a href="#CPU_Advancements"> Modern x86 CPU's and problems with MonoTonic Clock Sources</a></li>
<li><a href="#CPU_Bug"> CPU and Clock Source Bugs</a></li>
<li><a href="#C_Programs"> Example C programs to poll the TSC, HPET, and ACPI_PM clock sources</a></li>
<li><a href="#Sources"> Sources for this document</a></li>
</ul>
<h3 id="definitions-of-the-terms-used-in-this-document">Definitions of the terms used in this document: <a name="Definitions"></a></h3>
<table>
<thead>
<tr>
<th>Term</th>
<th>Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td>Wall Clock Time</td>
<td>Time displayed in a format understandable to humans, <br>such as "12:00 am, Jan 1st, 1970."</td>
</tr>
<tr>
<td>Real-Time Clock</td>
<td>A hardware-based clock found on system motherboards, <br>functions independent of a computer's power state.</td>
</tr>
<tr>
<td>System Time</td>
<td>A software-based clock or time line initialized <br>during system boot from the real-time clock</td>
</tr>
<tr>
<td>Reference Clock</td>
<td>A highly precise and stable time source used to <br>synchronize and calibrate other clocks.</td>
</tr>
<tr>
<td>Clock Cycles</td>
<td>A measure of the transitions in an electronic circuit, <br>akin to the movement of a production line.</td>
</tr>
<tr>
<td>Counter</td>
<td>A device that increments based on specific events or <br>time periods, independent of CPU-executed code.</td>
</tr>
<tr>
<td>Timer</td>
<td>A device that tracks the number of increments occurring <br>between two points in time.</td>
</tr>
<tr>
<td>Clock Source</td>
<td>A device queried by CPU-executed code to obtain the <br>current value of a counter.</td>
</tr>
<tr>
<td>Monotonic Counter</td>
<td>A counter that increments at regular intervals, such as <br>once per second, analogous to a metronome.</td>
</tr>
<tr>
<td>System</td>
<td>A self-contained computing entity, such as a Linux server, <br>Windows desktop, or Mac laptop.</td>
</tr>
<tr>
<td>Time Line</td>
<td>A graphical or numerical depiction of the passage of time.</td>
</tr>
<tr>
<td>Time Scale</td>
<td>A representation of time, either graphical or numerical, <br>adjusted to illustrate drift or skew</td>
</tr>
</tbody>
</table>
<h3 id="x86-clock-sources-and-system-timing">x86 Clock Sources and System Timing<a name="Clock_Sources"></a></h3>
<h4 id="rtc-real-time-clock">RTC (Real Time Clock)</h4>
<ul>
<li>Maintains an approximation of Wall Clock time when the x86 computer is powered off, powered by a battery on the motherboard.</li>
<li>Similar to a battery-operated digital wristwatch. </li>
<li>Utilizes a quartz crystal as a stable oscillator (32 kHz).</li>
</ul>
<p>Problems with RTC
* Prone to inaccuracies due to temperature changes and manufacturing tolerances.
* Limited precision compared to modern CPU clock rates.
* OS polling of the RTC can be computationally expensive and slow.</p>
<h4 id="acpi-pm-advanced-configuration-and-power-interface-power-management">ACPI PM (Advanced Configuration and Power Interface Power Management)</h4>
<ul>
<li>ACPI PM uses hardware timers or other mechanisms to manage power states and handle timing-related tasks during system sleep and wake cycles.</li>
</ul>
<h4 id="tsc-time-stamp-counter">TSC (Time Stamp Counter)</h4>
<p>The original type of the TSC was introduced by Intel with the original Pentium CPU in 1993.</p>
<ul>
<li>Located within the CPU.</li>
<li>When an Intel Pentium computer is powered up the TSC register is set to zero.</li>
<li>The value in the 64 bit TSC register was incremented by 1 for every CPU ClockCycle. (this is no longer the case)<ul>
<li>For example, If the CPU ClockCycle was 60MHz then the TSC would also be incremented at a rate of 60MHz.</li>
</ul>
</li>
<li>Any code running on the system could read this register to determine what the current value was.</li>
<li>Because both the CPU frequency and the TSC frequency were fixed this type of counter was known as a Monotonic Counter.</li>
</ul>
<p>The TSC was often preferred over many of the modern alternative Clock Sources because it was simple, effective and computationally inexpensive to use.
For a running process (application) to query the current value of the TSC, it only requires a single X86 instruction call.
Retrieving the TSC counter value in this this CPU register can be achieved by calling either of the following nonprivileged x86 instructions "rdtsc" or "rdtscp".
Interestingly; these two x86 instructions "rdtsc" or "rdtscp" can be called from any privilege level and they do not require a CPU ring transition.</p>
<p>Over the years, as Intel X86 platforms became more complicated, it was no longer possible to continue to rely on the simple monotonic TSC to maintain track of Wall Clock Time.
Intel introduced  SMP, Frequency Scaling, Power States, all of which necessitated the development of advancements to the original TSC and the creation of new Clock Sources.</p>
<h4 id="hpet-high-precision-event-timer">HPET (High Precision Event Timer)</h4>
<ul>
<li>The HPET provides a high-resolution timer with a frequency typically ranging from 10 MHz to 25 MHz, allowing for precise time measurements with resolutions down to nanoseconds.</li>
<li>HPETs typically consists of multiple timer channels, each capable of operating independently and providing precise timing information.</li>
<li>The HPET operates independently of the CPU's clock speed and is not affected by frequency scaling or changes in the CPU's power state. This ensures consistent and accurate timing information regardless of the system's power management settings.</li>
<li>A HPET can generate interrupts at specified intervals, allowing the operating system to perform tasks such as scheduling processes, managing I/O operations, and handling time-sensitive events.</li>
<li>HPETs are integrated into the ACPI specification and are managed by the operating system's ACPI driver. </li>
</ul>
<h4 id="pit-programmable-interval-timer">PIT (Programmable Interval Timer)</h4>
<p>The PIT is a hardware component used in PCs and other systems. It is a timer device that can be used to generate periodic interrupts, to perform various tasks such as timekeeping, scheduling, and generating audio signals.</p>
<ul>
<li>
<p>The PIT can be programmed to generate interrupts at regular intervals by setting specific values in its registers. This feature allowed the system to perform tasks on a periodic basis, such as updating system time or scheduling tasks.</p>
</li>
<li>
<p>The PIT can generate square wave signals at specific frequencies, which were commonly used to generate audio tones or drive other timing-sensitive peripherals.</p>
</li>
<li>
<p>The PIT generates hardware interrupts to notify the CPU when a programmed interval has elapsed. 
  This allows the operating system to perform tasks in response to timer events, such as servicing device requests or scheduling processes.</p>
</li>
<li>
<p>Limited Precision: The PIT's precision is limited compared to modern timer devices like the HPET (High Precision Event Timer). It typically operates at frequencies in the range of a few hundred hertz to a few kilohertz, resulting in lower timing resolution compared to modern high-resolution timers.</p>
</li>
</ul>
<h4 id="wall-clock-time">Wall Clock time</h4>
<p>The term "wall time" refers to the actual time elapsed from the start to the end of a particular process or task as measured by a clock on the wall, or in other words, a real-world clock.
Measured in the time units that us humans use Hours, Minutes, Seconds, Micro Seconds, etc...for example  12:00:01:102 am, Jan 1st, 1970</p>
<h4 id="system-time">System Time</h4>
<p>System time refers to the current time and date as maintained by the operating system of a computer system. 
It is a representation of the current time in a standardized format that can be used by software applications and humans.
System time is initialised and set during system boot up from the Real Time Clock.
System time is often kept in sync with the WallClockTime /Reference time by using an NTP client to poll a reference NTP time source.
When a System is powered off, the OS is not running therefore SystemTime is no longer being maintained.</p>
<h4 id="reference-clock-time">Reference Clock / Time</h4>
<p>A high precision Reference Clock is used to keep track of the agreed-upon time, examples include...</p>
<ul>
<li>
<p>Atomic clocks, </p>
<ul>
<li>They are are the most precise timekeeping devices available today. </li>
<li>They use the oscillation frequency of atoms, typically cesium or rubidium atoms, to measure time. </li>
<li>They can be accurate to within a few billionths of a second per day. </li>
<li>Note: You can buy these in various form factors, I had one in a Sun Sparc server in the early 2000s. </li>
</ul>
</li>
<li>
<p>GPS Time, GPS Clocks</p>
<ul>
<li>The Global Positioning System (GPS) relies on a network of atomic clocks on satellites to provide precise timing information. </li>
<li>GPS time is accurate to within a few tens of nanoseconds.</li>
</ul>
</li>
<li>
<p>NTP Devices and Servers (Network Time Protocol)</p>
<ul>
<li>NTP Devices and Servers synchronize time across networks and rely on high-precision time sources such as atomic clocks or GPS receivers. </li>
<li>NTP servers can achieve sub-millisecond accuracy when properly configured.</li>
</ul>
</li>
<li>
<p>Quartz oscillators.</p>
<ul>
<li>Commonly used in consumer electronic devices such as wristwatches and computer clocks. </li>
<li>While not as precise as atomic clocks, well built quartz oscillators can still provide accurate timekeeping to within a few seconds per month.</li>
</ul>
</li>
</ul>
<hr />
<h3 id="maintaining-system-time-on-a-single-core-fixed-frequency-x86-system">Maintaining System Time on a single core fixed frequency x86 system  <a name="Fixed_Frequency"></a></h3>
<p>Below is a simplified timeline of what happens when an Intel Pentium I single-core fixed Clock Frequency x86 computer is powered up and running a standard Linux Kernel 2.6.</p>
<ol>
<li>RTC continues working independently of the state of the computer. (Battery backed)</li>
<li>CPU is powered on and initialised.</li>
<li>The ClockSource Counters built into the CPU are initialized to Zero.</li>
<li>The OS is booted.</li>
<li>The OS System Time is set to the WallClock time based on the value in the RTC. (Generally, the RealTime clock is not read again until the next boot)</li>
<li>The OS queries to see what ClockSources are available.</li>
<li>The OS determines which ClockSource to use, based on manual configuration overrides and or the calculated stability of the available ClockSources.<ul>
<li>For simplicity's sake let's say that the OS has decided to use the TSC (Time Stamp Counter) as the ClockSource.</li>
</ul>
</li>
<li>The OS determines the ratio of the ClockSource frequency vs the frequency of the CPU Clock Cycles. ( on this computer is 1:1 )<ul>
<li>For simplicity's sake let's assume that the CPU Clock Frequency is 10Hz and the ClockSource Counter frequency is also 10Hz.</li>
</ul>
</li>
<li>The OS takes note of the value of the ClockSource counter and the System WallClock time.<ul>
<li>The Computer has been powered on for 10 seconds, the ClouckSource counter = 10 (seconds) x 10hz = 100</li>
<li>The SystemTime &amp; WallClock time is 12:00:10 Jan 1 2016</li>
</ul>
</li>
<li>The OS runs the various process and applications.</li>
<li>The OS-maintained SystemTime can now be kept in sync with the estimated WallClock time by moving it forward by an offset of the value maintained by the ClockSource Counter.<ul>
<li>For simplicity's sake let's say that the OS has been busy running processes and applications and the SystemTime has not been updated for 10 seconds in WallClock time.</li>
<li>The OS queries the ClockSource Counter (which continues independently of CPU load) and notices that the counter has increased from 100 to 200.</li>
<li>The OS calculates the current SystemTime by...<ul>
<li>TSC Counter difference (current) 200 - (previous) 100 = 100</li>
<li>The OS knows that the TSC frequency is 10Hz</li>
<li>100 / 10Hz = 10 seconds</li>
<li>(previous) SystemTime + 10 seconds = 12:00:10 Jan 1 2016</li>
</ul>
</li>
</ul>
</li>
</ol>
<p>There are 2 major problems with this method of maintaining system time.</p>
<ol>
<li>There is no way to determine the initial accuracy of the RTC's approximation of the True Wall Clock time..<ul>
<li>You cannot determine what time zone it is set to.</li>
<li>You cannot determine if it is even set to the correct year.</li>
</ul>
</li>
<li>There is no way to validate the accuracy or the stability of the ClockSource..<ul>
<li>Is it exactly 10hz or is it 10.01hz ?</li>
<li>Is it varying between 9hz and 11hz ?</li>
</ul>
</li>
</ol>
<p>NTP solves problem [1] by polling a remote time source across the network to get an accurate reading for the True WallClock time in reference to the prime epoch.</p>
<p>NTP goes a great way to mitigate problem [2] by comparing the apparent time drift between the multiple values returned by the local ClockSource with multiple values returned by the more accurate remote NTP time source.</p>
<p>If it is determined that the local ClockSource is drifting from its stated speed of 10Hz, then the local NTP daemon calculates the drift offset and adjusts the system clock.</p>
<hr />
<h3 id="advancements-of-x86-cpus-and-the-effects-upon-the-monotonic-tsc">Advancements of x86 CPU's and the effects upon the MonoTonic TSC <a name="CPU_Advancements"></a></h3>
<h4 id="brief-overview-of-the-advances-in-x86-system-architecture-that-affected-the-previously-used-method-of-using-a-simple-monotonic-counter-tsc-to-maintain-time">Brief overview of the advances in X86 system architecture that affected the previously used method of using a simple monotonic counter (TSC) to maintain time.</h4>
<p>For most purposes, the methodology for maintaining system time described above (Intel Pentium I - III) worked fairly well.
However times have changed and as x86 systems have evolved they have become far more complicated, as a result, the old method of determining the WallClock time needed to be changed to work on modern CPUs.</p>
<p>The following 3 advances in X86 CPUs nullified the previously used method of using a simple monotonic counter (TSC) to maintain time.</p>
<ul>
<li>x86 systems evolved from having a single CPU core to multiple CPU cores.</li>
<li>x86 CPUs could change Clock frequency whilst a system was running, to both save power and turbo boost.</li>
<li>x86 CPU cores could change power states whilst a system was running, individual CPU cores could be turned off and then be turned back on.</li>
</ul>
<hr />
<h4 id="as-x86-system-architecture-became-more-complex-the-tscs-and-how-they-were-used-had-to-adapt">As X86 system architecture became more complex, the TSCs and how they were used had to adapt.</h4>
<p>Below I have detailed 5 points in the evolution of X86 CPUs that I believe had the most effect on system timekeeping.</p>
<ol>
<li>
<p>Single CPU fixed clock frequency. (tsc)</p>
<ul>
<li>Historically back when x86 CPU frequencies were fixed, the TSC incremented in synchronization with the CPU cycles and everything was fine.</li>
</ul>
</li>
<li>
<p>SMP (symmetric multi-processing) fixed clock frequency. (tsc)</p>
<ul>
<li>When SMP (symmetric multi-processing) x86-based systems were released, each CPU had its own TSC and there was no mechanism to keep them in sync.</li>
<li>Having separate TSC's on the same x86 system that could be out of sync with each other sometimes caused issues when applications/processes were moved between CPUs + TSC's, as the time could appear to jump either forwards or backward.</li>
<li>As a fix for the out-of-sync TSCs on SMP systems, the TSCs were kept in sync by the BIOS/firmware during CPU resets and the situation was better again.</li>
</ul>
</li>
<li>
<p>SMP (symmetric multi-processing) variable clock frequency (SpeedStep). (constant_tsc)</p>
<ul>
<li>When x86 CPUs were released with new features such as variable clock speed once again the multiple TSC's within a single x86 system were out of sync.</li>
<li>To solve this issue the variable clock/tick/rate/frequency of the CPU, the TSC frequency was Decoupled from the CPU clock frequencies. </li>
<li>The TSCs would be incremented at a constant rate regardless of the variable CPU frequency. </li>
<li>To communicate to the OS that the TSCs are in sync the CPU cpuid bit (flag) constant_tsc is presented to the OS.</li>
</ul>
</li>
<li>
<p>SMP (symmetric multi-processing), variable clock frequency, and Power States  (ACPI P-, C-. and T-states, etc..) (nonstop_tsc)</p>
<ul>
<li>Now individual CPU cores can change their clock frequency independently of the other cores and even the uncore can be shutdown.</li>
<li>When the uncore is shutdown the associated TSC is frozen and is now out of sync with the other TSC's</li>
<li>To solve the issue of the TSC being shutdown with the CPUs and then started again, Intel introduced the "nonstop_tsc"</li>
</ul>
</li>
<li>
<p>Sleep x86 (nonstop_tsc_s3)</p>
<ul>
<li>x86 systems can be put to sleep where all system context is lost except system memory.</li>
</ul>
</li>
</ol>
<h4 id="so-we-now-have-4-tsc-related-cpuid-flags-for-the-different-tsc-feature-sets">So we now have 4 TSC-related CPUID flags for the different TSC feature sets.</h4>
<ul>
<li>tsc : TSC is present</li>
<li>constant_tsc: TSC ticks at a constant rate</li>
<li>nonstop_tsc: TSC does not stop in C states</li>
<li>nonstop_tsc_s3: TSC doesn't stop in S3 state</li>
</ul>
<p>Plus 1 more TSC CPUID flag that is only set if the kernel determines that the TSC is reliable.</p>
<ul>
<li>tsc_reliable: TSC is known to be reliable</li>
</ul>
<hr />
<h3 id="cpu-bugs-and-clock-sources">CPU Bugs and Clock Sources<a name="CPU_Bug"></a></h3>
<p>There have been a few different CPU, Firmware, and Operating System bugs related to CPU clock sources.</p>
<p>One example is an issue with the Intel Xeon E5 v2 CPUs which results in the TSC not being cleared upon a CPU warm reset.</p>
<p>This can result in the various TSC's on a system getting out of sync with each other.</p>
<p>The bug is referenced in the following Intel Xeon E5 v2 spec update as "CA105 TSC is Not Affected by warm reset"</p>
<p><a href="http://www.intel.com/content/dam/www/public/us/en/documents/specification-updates/xeon-e5-v2-spec-update.pdf">http://www.intel.com/content/dam/www/public/us/en/documents/specification-updates/xeon-e5-v2-spec-update.pdf</a></p>
<p>If CPUs with this bug are warm reset or the uncores are powered down, the multiple TSC's within a system can get out of sync with each other.</p>
<p>This problem can be mitigated by motherboard firmware/BIOS keeping the various TSC's in sync.</p>
<p>However, If the firmware does not reset/sync the TSCs, then they may stay out of sync until a cold reset (power off/power on) is performed.</p>
<p>The Linux Operating system should be able to detect if the TSC's are out of sync and flag the TSC clocksource/s as being unstable.
If this occurs, the Linux Operating system should then failover and utilise one of the alternative clock sources and continue functioning normally.
Unfortunately, certain kernel builds in certain Linux distributions do not successfully fail over to alternate clock sources.</p>
<p>For example, kernel-2.6.32-504.30.3.el6.x86_64, continues to use the unstable TSC as a clock source
This can result in timewarping of the System Time so severe that it may drift too much to be corrected by NTP.</p>
<h3 id="example-c-programs-to-poll-the-tsc-hpet-and-acpi_pm-clock-sources">Example C programs to poll the TSC, HPET, and ACPI_PM clock sources<a name="C_Programs"></a></h3>
<h4 id="example-c-program-to-read-the-tsc">Example C Program to read the TSC</h4>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdint.h&gt;

int main() {
    unsigned int tsc_val_lo, tsc_val_hi;
    uint64_t timestamp;

    // Execute the rdtsc instruction
    __asm__ __volatile__ ("rdtsc" : "=a"(tsc_val_lo), "=d"(tsc_val_hi));

    // Combine the low and high parts to form the full 64bit timestamp
    timestamp = ((uint64_t)tsc_val_lo) | (((uint64_t)tsc_val_hi) &lt;&lt; 32);

    printf("TSC value: %lu\n", timestamp);

    return 0;
}
</code></pre>
<h4 id="example-c-program-to-read-the-hpet">Example C program to read the HPET</h4>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdint.h&gt;
#include &lt;fcntl.h&gt;
#include &lt;sys/mman.h&gt;
#include &lt;unistd.h&gt;

#define HPET_BASE_ADDRESS 0xFED00000 // Base address of HPET on most x86 machine
#define HPET_SIZE 0x400              // HPET size in bytes

int main() {
    int hpet_fd;
    volatile void *hpet_base;
    uint64_t hpet_counter;

    // Open the /dev/mem device to access physical memory
    hpet_fd = open("/dev/mem", O_RDONLY);
    if (hpet_fd &lt; 0) {
        perror("Error opening /dev/mem");
        return 1;
    }

    // Memory-map the HPET region
    hpet_base = mmap(NULL, HPET_SIZE, PROT_READ, MAP_SHARED, hpet_fd, HPET_BASE_ADDRESS);
    if (hpet_base == MAP_FAILED) {
        perror("Error mapping HPET region");
        close(hpet_fd);
        return 1;
    }

    // Read the HPET counter value
    hpet_counter = *((volatile uint64_t *)(hpet_base + 0xFEE));

    // Unmap the HPET region and close /dev/mem
    munmap((void *)hpet_base, HPET_SIZE);
    close(hpet_fd);

    printf("HPET Counter: %lu\n", hpet_counter);

    return 0;
}
</code></pre>
<h4 id="example-c-program-to-read-the-rtc">Example C program to read the RTC</h4>
<pre><code> include &lt;stdio.h&gt;
 include &lt;fcntl.h&gt;
 include &lt;unistd.h&gt;
 include &lt;sys/ioctl.h&gt;
 include &lt;linux/rtc.h&gt;

 int main() {
    int rtc_fd;
    struct rtc_time rtc_tm;

    // Open the RTC device file
    rtc_fd = open("/dev/rtc", O_RDONLY);
    if (rtc_fd == -1) {
        perror("Failed to open RTC device");
        return 1;
    }

    // Read the current time from the RTC
    if (ioctl(rtc_fd, RTC_RD_TIME, &amp;rtc_tm) == -1) {
        perror("Failed to read RTC time");
        close(rtc_fd);
        return 1;
    }

    // Print the current time
    printf("Current RTC time: %02d:%02d:%02d\n", rtc_tm.tm_hour, rtc_tm.tm_min, rtc_tm.tm_sec);

    // Close the RTC device file
    close(rtc_fd);

    return 0;
</code></pre>
<h4 id="example-c-program-to-read-the-acpi_pm">Example C program to read the ACPI_PM</h4>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdint.h&gt;
#include &lt;fcntl.h&gt;
#include &lt;sys/io.h&gt;
#include &lt;unistd.h&gt;

#define PM_BASE_ADDRESS 0x40 // Base address of ACPI PM timer on most x86 machine

int main() {
    int pm_fd;
    uint32_t pm_counter;

    // Open /dev/port to access I/O ports
    pm_fd = open("/dev/port", O_RDONLY);
    if (pm_fd &lt; 0) {
        perror("Error opening /dev/port");
        return 1;
    }

    // Enable I/O port access
    if (iopl(3) &lt; 0) {
        perror("Error enabling I/O port access");
        close(pm_fd);
        return 1;
    }

    // Read the ACPI PM timer counter value
    outl(PM_BASE_ADDRESS, 0x43); // Select counter 0 and latch its value
    pm_counter = inl(PM_BASE_ADDRESS); // Read the latched value

    // Close /dev/port
    close(pm_fd);

    printf("ACPI PM Timer Counter: %u\n", pm_counter);

    return 0;
}
</code></pre>
<h3 id="sources-for-this-document">Sources for this document: <a name="Sources"></a></h3>
<p>Intel CPU specifications and developer guides</p>
<ul>
<li><a href="http://www.intel.com/content/dam/www/public/us/en/documents/manuals/64-ia-32-architectures-software-developer-vol-2a-manual.pdf">Intel 64-ia-32-architectures-software-developer-vol-2a-manual.pdf</a></li>
<li><a href="http://www.intel.com/content/dam/www/public/us/en/documents/manuals/64-ia-32-architectures-software-developer-manual-325462.pdf">Intel 64-ia-32-architectures-software-developer-manual-325462.pdf</a></li>
<li><a href="http://www.intel.com.au/content/www/au/en/architecture-and-technology/64-ia-32-architectures-software-developer-vol-3b-part-2-manual.html">Intel 64-ia-32-architectures-software-developer-vol-3b-part-2-manual</a></li>
<li><a href="http://www.intel.com/content/dam/www/public/us/en/documents/white-papers/timestamp-counter-scaling-virtualization-white-paper.pdf">Intel timestamp-counter-scaling-virtualization-white-paper.pdf</a></li>
<li><a href="http://www.intel.com/content/dam/www/public/us/en/documents/specification-updates/xeon-e5-v2-spec-update.pdf">Intel xeon-e5-v2-spec-update.pdf</a></li>
</ul>
<p>Linux Kernel and Linux Distribution documentation</p>
<ul>
<li><a href="https://www.kernel.org/doc/Documentation/virtual/kvm/timekeeping.txt">Linux kernel Documentation kvm timekeeping</a></li>
<li><a href="h.ttps://access.redhat.com/solutions/18627">access.redhat.com/solutions/18627</a></li>
<li><a href="https://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=1006427">kb.vmware.com</a></li>
<li><a href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/5/html/Virtualization/chap-Virtualization-KVM_guest_timing_management.html">RedHat - Virtualization-KVM_guest_timing_management</a></li>
<li><a href="https://bugzilla.redhat.com/show_bug.cgi?id=698842">bugzilla.redhat.com/show_bug.cgi?id=698842</a></li>
<li><a href="http://blog.cr0.org/2009/05/time-stamp-counter-disabling-oddities.html">blog.cr0.org time-stamp-counter-disabling-oddities.html</a></li>
<li><a href="http://www.cs.virginia.edu/~evans/cs216/guides/x86.html">www.cs.virginia.edu/~evans/cs216/guides/x86.html</a></li>
<li><a href="http://man7.org/linux/man-pages/man2/prctl.2.html">man7.org/linux/man-pages/man2/prctl.2.html</a></li>
<li><a href="https://www.chromium.org/chromium-os/how-tos-and-troubleshooting/tsc-resynchronization">chromium-os/how-tos-and-troubleshooting/tsc-resynchronization</a></li>
<li><a href="https://wiki.archlinux.org/index.php/CPU_frequency_scaling">wiki.archlinux.org CPU_frequency_scaling</a></li>
<li><a href="http://btorpey.github.io/blog/2014/02/18/clock-sources-in-linux/">btorpey.github.io/blog/2014/02/18/clock-sources-in-linux/</a></li>
<li><a href="https://lkml.org/lkml/2005/11/4/173">lkml.org/lkml/2005/11/4/173</a></li>
<li>[Manual page clock_gettime]</li>
</ul>
<p>NTP (Official Documentation)</p>
<ul>
<li><a href="https://www.ntp.org/documentation/">www.ntp.org/documentation/</a></li>
<li><a href="https://www.eecis.udel.edu/~mills/ntp/html/index.html">www.eecis.udel.edu/~mills/ntp/html/index.html</a></li>
<li><a href="https://www.amazon.com/Computer-Network-Time-Synchronization-Protocol/dp/0849358051/">Computer-Network-Time-Synchronization-Protocol By David L Mills </a></li>
<li><a href="https://www.amazon.com/Computer-Network-Time-Synchronization-Protocol/dp/1439814635/">Computer-Network-Time-Synchronization-Protocol 2nd By David L Mills</a></li>
<li><a href="http://what-if.xkcd.com/26/">Leap second (XKCD always counts as official ;)</a></li>
</ul>
<p>Wikipedia links</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Segal%27s_law">Segals Law</a></li>
<li><a href="https://en.wikipedia.org/wiki/List_of_Intel_microprocessors">List_of_Intel_microprocessors</a></li>
<li><a href="https://en.wikipedia.org/wiki/P5_%28microarchitecture%29#P5">P5 microarchitecture</a></li>
<li><a href="https://en.wikipedia.org/wiki/SpeedStep">Intel SpeedStep</a></li>
<li><a href="https://en.wikipedia.org/wiki/Wall-clock_time">Wall-clock_time</a></li>
<li><a href="https://en.wikipedia.org/wiki/Time_Stamp_Counter">Time_Stamp_Counter</a></li>
<li><a href="https://en.wikipedia.org/wiki/Linux_kernel">Linux_kernel</a></li>
<li><a href="https://en.wikipedia.org/wiki/Allan_variance">Allan_variance</a></li>
</ul>
<p>Extra Info</p>
<ul>
<li><a href="http://cp.literature.agilent.com/litweb/pdf/5988-6254EN.pdf">Measuring Wander and Jitter</a></li>
</ul>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../../scripting/simulate_site_failure/" class="btn btn-neutral float-left" title="Simulate site failure"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../Clock_Synchronization_and_NTP/" class="btn btn-neutral float-right" title="Clock Synchronization and NTP">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../../scripting/simulate_site_failure/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../Clock_Synchronization_and_NTP/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
