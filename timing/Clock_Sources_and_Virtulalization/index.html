<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://docs.seamusmurray.com/timing/Clock_Sources_and_Virtulalization/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Clock Sources and Virtulalization - Seamus Murray's Notes about Linux and System Engineering</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Clock Sources and Virtulalization";
        var mkdocs_page_input_path = "timing/Clock_Sources_and_Virtulalization.md";
        var mkdocs_page_url = "/timing/Clock_Sources_and_Virtulalization/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> Seamus Murray's Notes about Linux and System Engineering
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Linux</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="#">Clustering</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Clustering/HA_LVM_automatic_failover/">HA LVM automatic failover</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Clustering/HA_LVM_automatic_failover_manual_fence_override/">HA LVM automatic failover manual fence override</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Clustering/HA_LVM_cluster_build/">HA LVM cluster build</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Clustering/HA_LVM_cluster_build_guide/">HA LVM cluster build guide</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Clustering/HA_LVM_manual_failover.txt/">HA LVM manual failover.txt</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Clustering/RHEL4_cluster_installation/">RHEL4 cluster installation</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Clustering/homemade_cluster/">Homemade cluster</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Clustering/simple.cluster.conf/">Simple.cluster.conf</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Commands</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Commands/email_on_linux/">change mail relay for postfix</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Commands/hot_add_memory/">Hot add memory</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Core Utils</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Core_Utils/awk/">Awk</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Core_Utils/bash_shortcuts/">Bash shortcuts</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Core_Utils/diff_and_cut_to_compare_part_of-lines_in_log_files/">Diff and cut to compare part of lines in log files</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Core_Utils/linux_proccess_signaling/">Linux proccess signaling</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Core_Utils/rename/">Rename</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Core_Utils/spacecmd_breaking_up_large_groups_of_hosts_with_awk/">Spacecmd breaking up large groups of hosts with awk</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Core_Utils/user_creation/">User creation</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Core_Utils/vim_sudo/">Vim sudo</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Core_Utils/watch_and_timeout/">Watch and timeout</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Disks and File Systems</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Disks_and_File_Systems/Extend_lvm_filesystem/">Extend lvm filesystem</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Disks_and_File_Systems/Linux_LVM_Logical_Volume_Manager/">Linux LVM Logical Volume Manager</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Disks_and_File_Systems/Listing_Oracle_ASM_disks/">Listing Oracle ASM disks</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Disks_and_File_Systems/Multipath_and_NetApp_fixes/">Multipath and NetApp fixes</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Disks_and_File_Systems/Online_lun_resize/">Online lun resize</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Disks_and_File_Systems/RHEL_floppy_kickstart/">RHEL floppy kickstart</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Disks_and_File_Systems/boot_cdrom_dvdrom/">Boot cdrom dvdrom</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Disks_and_File_Systems/disk_filesystem_partition_imaging_using_squashfs_and_dd/">Disk filesystem partition imaging using squashfs and dd</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Disks_and_File_Systems/filesystem_shuffle/">Filesystem shuffle</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Disks_and_File_Systems/rsync/">Rsync</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Disks_and_File_Systems/shrink_lvm_filesystem/">Shrinking a Linux filesystem on LVM</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Firewalls and Security</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Firewalls_and_Security/auditd_rules/">Auditd rules</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Firewalls_and_Security/iptables_notes/">My notes on IPtables</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Monitoring</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Monitoring/nagios_2.6_install/">Nagios 2.6 install</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Networking</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Networking/check_dns_records/">Check dns records</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Networking/determine_the_routes_a_packet_will_take/">Determine the routes a packet will take</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Networking/linux_networking/">Linux networking</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Networking/local_IP_address_survey/">local IP address survey</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">RedHat</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/RedHat/kickstart/">Kickstart</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">Satellite spacewalk</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../linux/RedHat/satellite_spacewalk/perl_script_to_calulate_uptime_of_satellite_clients/">Perl script to calulate uptime of satellite clients</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../linux/RedHat/satellite_spacewalk/replacing_your_satellite_certificate/">Replacing your satellite certificate</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../linux/RedHat/satellite_spacewalk/satellite_certificate_licence_install/">Satellite certificate licence install</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../linux/RedHat/satellite_spacewalk/using_spacecmd/">Using spacecmd</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">Yum rpm</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../linux/RedHat/yum_rpm/create_local_repos_from_redhat_install_media/">Create local repos from redhat install media</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../linux/RedHat/yum_rpm/working_with_yum_and_rpm/">Working with yum and rpm</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../linux/RedHat/yum_rpm/yum_and_rpm/">Yum and rpm</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Software Packaging</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../linux/Software_Packaging/apt_get/">Apt get</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Orchestration</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../orchestration/puppet_study_notes/">Puppet study notes</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Programming</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="#">C Programming</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../programming/C_Programming/fork_and_maloc_demo/">Fork and maloc demo</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../programming/C_Programming/fork_demo_menu/">Fork demo menu</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../programming/C_Programming/linux_clocksource_benchmark/">Linux clocksource benchmark</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../programming/C_Programming/programmable_keyboard/">Programmable keyboard</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Scripting</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/IP_survey/">IP survey</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_and_grep_script_to_compare_2_lists/">Bash and grep script to compare 2 lists</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_argument_shift_until_loop/">Bash argument shift until loop</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_argument_shift_while_loop/">Bash argument shift while loop</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_arguments/">Bash arguments</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_array/">Bash array</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_capture_keyboard_entry/">Bash capture keyboard entry</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_case/">Bash case</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_column_tally/">Bash column tally</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_convert_kilobytes_to_MB_GB_TB_PB/">bash convert kilobytes to MB GB TB PB</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_fail_and_exit/">Bash fail and exit</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_fail_trap/">Bash fail trap</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_function/">Bash function</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_functions/">Bash functions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_local_vs_global_variables/">Bash local vs global variables</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_nested_if_else/">Bash nested if else</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_read_input/">Bash read input</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_scripting/">Bash scripting</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_select/">Bash select</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_string_comparison/">Bash string comparison</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_test_to_only_run_as_root/">Bash test to only run as root</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_tips/">Bash tips</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_trap_user_ctrl-c/">Bash trap user ctrl c</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_use_a_file_to_control_script_operation/">Bash use a file to control script operation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_validate_DNS_entries/">bash validate DNS entries</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/bash_wait_for_user_input/">Bash wait for user input</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/expect/">Expect</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/script_to_markdown/">Script to markdown</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../scripting/simulate_site_failure/">Simulate site failure</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Timing</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../Clock_Sources_and_System_Time/">Clock Sources and System Time</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Clock Sources and Virtulalization</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#some-things-to-check-on-the-hardware-host">Some things to check on the Hardware host</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#check-cputsc-support">Check CPU/TSC support:</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#check-kernel-version">Check Kernel Version:</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#check-bios">Check Bios:</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#check-kvm-version">Check KVM version</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#checking-the-current-value-in-the-tsc-usually-not-necessary">Checking the current value in the TSC (usually not necessary)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#check-the-system-time-and-keep-track-of-any-drift">Check the system time and keep track of any drift</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#some-things-to-check-on-the-vm-guests">Some things to check on the VM Guests</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#kvm-guest-1">KVM Guest 1</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#kvm-guest-2">KVM Guest 2</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Clock_Synchronization_and_NTP/">Clock Synchronization and NTP</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../GetTimeOfDay/">GetTimeOfDay</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Latency_and_Jitter/">Latency and Jitter</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Linux_clocksource_benchmark/">Linux clocksource benchmark</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../NTP_Authentication/">NTP Authentication</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Setting_time_like_it_is_1989/">Setting time like it is 1989</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">Seamus Murray's Notes about Linux and System Engineering</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Timing</li>
      <li class="breadcrumb-item active">Clock Sources and Virtulalization</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h3 id="the-topic-of-x86-virtualization-and-system-timing-is-exceedingly-complex">The topic of x86 virtualization and system timing is exceedingly complex.</h3>
<p>In the early 2000s, I distinctly remember encountering numerous issues in maintaining accurate timing on x86 virtualization guests. Over the past two decades, many of the main timing issues have been resolved across most use cases and virtualization platforms. While the current situation is not perfect, it has progressed significantly since the earlier days.</p>
<p>When conducting research on system timing and virtualization, it's crucial to recognize that there are numerous layers, each with its own configurations, and these have evolved and changed over the years.</p>
<p>It's almost certain that in any request for information relevant to a particular situation, there will be a need to sift through a lot of information that may not directly apply. Here is a list of the key things that I take into consideration. </p>
<ul>
<li>CPU and features</li>
<li>Kernel version and configuration</li>
<li>Motherboard features and configuration</li>
<li>Firmware versions, features, and configuration</li>
<li>Virtualization platform type, such as KVM, HyperV, VMware, Xen, etc.</li>
<li>Virtualization platform configuration</li>
<li>Paravirtualization types and configuration</li>
<li>Timing requirements</li>
</ul>
<p>Before deciding to implement any changes based on configuration guides, forum posts, knowledge base articles, etc., ask yourself if the information is relevant to your particular configuration.</p>
<p>For example, if you were to create a matrix (example below) of just a subsection of the various relevant components, versions, and configurations, it is easy to see how difficult it is to determine if a particular piece of information in an article is truly relevant for your configuration.</p>
<p><img alt="information relevancy matrix" src="../Is_the_information_relevant_for_your_particular_configuration.png" /></p>
<h4 id="some-things-to-check-on-the-hardware-host">Some things to check on the Hardware host</h4>
<h6 id="check-cputsc-support">Check CPU/TSC support:</h6>
<pre><code class="language-text">$&gt; lscpu | grep -i flags | tr ' ' '\n' | egrep tsc

   tsc
   rdtscp
   constant_tsc
   nonstop_tsc
   tsc_deadline_timer
</code></pre>
<h6 id="check-kernel-version">Check Kernel Version:</h6>
<pre><code class="language-text">$&gt; uname -a

   Linux hostname 5.4.0-171-generic #189-Ubuntu SMP Fri Jan 5 14:23:02 UTC 2024 x86_64 x86_64 x86_64 GNU/Linux
</code></pre>
<h6 id="check-bios">Check Bios:</h6>
<pre><code class="language-text">$&gt; dmidecode -s bios-vedor

   Buggy-Never-Updated-Bios-Co


$&gt; dmidecode -s bios-version

   0.0.0.01 Beta


$&gt; dmidecode -s bios-release-date

   01/01/300 BC
</code></pre>
<h6 id="check-kvm-version">Check KVM version</h6>
<pre><code class="language-text">$&gt;  /usr/bin/qemu-system-x86_64 --version

    QEMU emulator version 4.2.1 (Debian 1:4.2-3ubuntu6.28)

</code></pre>
<h6 id="checking-the-current-value-in-the-tsc-usually-not-necessary">Checking the current value in the TSC (usually not necessary)</h6>
<pre><code>$&gt; ./rdtsc.o 

    TSC value: 56659346945284
</code></pre>
<h5 id="check-the-system-time-and-keep-track-of-any-drift">Check the system time and keep track of any drift</h5>
<p>There are many different tools and methods to check and keep track of the time. For example..</p>
<pre><code class="language-text">
$&gt; date

$&gt; chronyd -Q &quot;server ntp.ubunutu.com iburst&quot;

$&gt; sntp -K /dev/null ntp.ubuntu.com

</code></pre>
<hr>

<h4 id="some-things-to-check-on-the-vm-guests">Some things to check on the VM Guests</h4>
<h4 id="kvm-guest-1">KVM Guest 1</h4>
<pre><code class="language-text">$&gt; uname -a
   Linux kvm-guest-1 4.15.0-142-generic #146~16.04.1-Ubuntu SMP Tue Apr 13 09:27:15 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux


$&gt; cat /sys/devices/system/clocksource/clocksource0/- available_clocksource
   kvm-clock tsc acpi_pm 



$&gt; cat /sys/devices/system/clocksource/clocksource0/current_clocksource 
   kvm-clock


$&gt; lscpu | grep -i flags | tr ' ' '\n' | egrep tsc
   tsc
   rdtscp
   constant_tsc
   tsc_known_freq
   tsc_deadline_timer
   tsc_adjust


(Checking the TSC is usually not necessary)
$&gt; ./rdtsc.o 
   TSC value: 3170121449948

</code></pre>
<h4 id="kvm-guest-2">KVM Guest 2</h4>
<pre><code class="language-text">$&gt; uname -a
   Linux kvm-guest-2 6.5.0-10-generic #10-Ubuntu SMP PREEMPT_DYNAMIC Fri Oct 13 13:49:38 UTC 2023 x86_64 x86_64 x86_64 GNU/Linux


$&gt; cat /sys/devices/system/clocksource/clocksource0/available_clocksource
   kvm-clock tsc acpi_pm 

$&gt; cat /sys/devices/system/clocksource/clocksource0/current_clocksource 
   kvm-clock

$&gt; lscpu | grep -i flags | tr ' ' '\n' | egrep tsc
   tsc
   rdtscp
   constant_tsc
   tsc_known_freq
   tsc_deadline_timer
   tsc_adjust

(Checking the TSC is usually not necessary)
$&gt; ./rdtsc.o 
   TSC value: 25459753247756
</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../Clock_Sources_and_System_Time/" class="btn btn-neutral float-left" title="Clock Sources and System Time"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../Clock_Synchronization_and_NTP/" class="btn btn-neutral float-right" title="Clock Synchronization and NTP">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../Clock_Sources_and_System_Time/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../Clock_Synchronization_and_NTP/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
