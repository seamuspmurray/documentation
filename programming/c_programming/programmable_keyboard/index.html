<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>Programmable keyboard - Seamus Murray's Notes about Linux and System Engineering</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Programmable keyboard";
        var mkdocs_page_input_path = "programming/c_programming/programmable_keyboard.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../.." class="icon icon-home"> Seamus Murray's Notes about Linux and System Engineering
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Linux</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../linux/hot_add_memory_and_cpus/">Hot add memory and cpus</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../linux/linux_proccess_signaling/">Linux proccess signaling</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Clustering</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Clustering/HA_LVM_automatic_failover/">HA LVM automatic failover</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Clustering/HA_LVM_automatic_failover_manual_fence_override/">HA LVM automatic failover manual fence override</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Clustering/HA_LVM_cluster_build/">HA LVM cluster build</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Clustering/HA_LVM_cluster_build_guide/">HA LVM cluster build guide</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Clustering/HA_LVM_manual_failover.txt/">HA LVM manual failover.txt</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Clustering/RHEL4_cluster_installation/">RHEL4 cluster installation</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Clustering/homemade_cluster/">Homemade cluster</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Clustering/simple.cluster.conf/">Simple.cluster.conf</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Commands</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Commands/email_on_linux/">change mail relay for postfix</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Commands/hot_add_memory/">Hot add memory</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Core Utils</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Core_Utils/awk/">Awk</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Core_Utils/bash_shortcuts/">Bash shortcuts</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Core_Utils/rename/">Rename</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Core_Utils/spacecmd_breaking_up_large_groups_of_hosts_with_awk/">Spacecmd breaking up large groups of hosts with awk</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Core_Utils/user_creation/">User creation</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Core_Utils/vim_sudo/">Vim sudo</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Core_Utils/watch_and_timeout/">Watch and timeout</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Disks and File Systems</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Disks_and_File_Systems/Extend_lvm_filesystem/">Extend lvm filesystem</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Disks_and_File_Systems/Linux_LVM_Logical_Volume_Manager/">Linux LVM Logical Volume Manager</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Disks_and_File_Systems/Listing_Oracle_ASM_disks/">Listing Oracle ASM disks</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Disks_and_File_Systems/Multipath_and_NetApp_fixes/">Multipath and NetApp fixes</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Disks_and_File_Systems/Online_lun_resize/">Online lun resize</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Disks_and_File_Systems/RHEL_floppy_kickstart/">RHEL floppy kickstart</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Disks_and_File_Systems/boot_cdrom_dvdrom/">Boot cdrom dvdrom</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Disks_and_File_Systems/disk_filesystem_partition_imaging_using_squashfs_and_dd/">Disk filesystem partition imaging using squashfs and dd</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Disks_and_File_Systems/filesystem_shuffle/">Filesystem shuffle</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Disks_and_File_Systems/rsync/">Rsync</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Disks_and_File_Systems/shrink_lvm_filesystem/">Shrinking a Linux filesystem on LVM</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Firewalls and Security</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Firewalls_and_Security/auditd_rules/">Auditd rules</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Firewalls_and_Security/iptables_notes/">My notes on IPtables</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Monitoring</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Monitoring/nagios_2.6_install/">Nagios 2.6 install</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Networking</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Networking/check_dns_records/">Check dns records</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Networking/determine_the_routes_a_packet_will_take/">Determine the routes a packet will take</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Networking/linux_networking/">Linux networking</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Networking/local_IP_address_survey/">local IP address survey</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">RedHat</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/RedHat/kickstart/">Kickstart</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">Satellite spacewalk</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../../linux/RedHat/satellite_spacewalk/perl_script_to_calulate_uptime_of_satellite_clients/">Perl script to calulate uptime of satellite clients</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../linux/RedHat/satellite_spacewalk/replacing_your_satellite_certificate/">Replacing your satellite certificate</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../linux/RedHat/satellite_spacewalk/satellite_certificate_licence_install/">Satellite certificate licence install</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../linux/RedHat/satellite_spacewalk/using_spacecmd/">Using spacecmd</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">Yum rpm</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../../linux/RedHat/yum_rpm/create_local_repos_from_redhat_install_media/">Create local repos from redhat install media</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../linux/RedHat/yum_rpm/working_with_yum_and_rpm/">Working with yum and rpm</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../../linux/RedHat/yum_rpm/yum_and_rpm/">Yum and rpm</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Software Packaging</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../../linux/Software_Packaging/apt_get/">Apt get</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Programming</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">C programming</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../fork_and_maloc_demo/">Fork and maloc demo</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../fork_demo_menu/">Fork demo menu</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../linux_clocksource_benchmark/">Linux clocksource benchmark</a>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" href="./">Programmable keyboard</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Puppet</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../puppet/puppet_study_notes/">Puppet study notes</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Scripting</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../scripting/Column_tally/">Column tally</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../scripting/Convert_kilobytes_to_MB_GB_TB_PB/">Convert kilobytes to MB GB TB PB</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../scripting/DNS_validate_entries/">DNS validate entries</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../scripting/IP_survey/">IP survey</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../scripting/bash_and_grep_script_to_compare_2_lists/">Bash and grep script to compare 2 lists</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../scripting/bash_argument_shift_until_loop/">Bash argument shift until loop</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../scripting/bash_argument_shift_while_loop/">Bash argument shift while loop</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../scripting/bash_arguments/">Bash arguments</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../scripting/bash_array/">Bash array</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../scripting/bash_capture_keyboard_entry/">Bash capture keyboard entry</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../scripting/bash_case/">Bash case</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../scripting/bash_fail_and_exit/">Bash fail and exit</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../scripting/bash_fail_trap/">Bash fail trap</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../scripting/bash_function/">Bash function</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../scripting/bash_functions/">Bash functions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../scripting/bash_local_vs_global_variables/">Bash local vs global variables</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../scripting/bash_nested_if_else/">Bash nested if else</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../scripting/bash_read_input/">Bash read input</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../scripting/bash_scripting/">Bash scripting</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../scripting/bash_select/">Bash select</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../scripting/bash_string_comparison/">Bash string comparison</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../scripting/bash_test_to_only_run_as_root/">Bash test to only run as root</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../scripting/bash_tips/">Bash tips</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../scripting/bash_trap_user_ctrl-c/">Bash trap user ctrl c</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../scripting/bash_wait_for_user_input/">Bash wait for user input</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../scripting/diff/">Diff</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../scripting/expect/">Expect</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../scripting/map/">Map</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../scripting/script_to_markdown/">Script to markdown</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../scripting/simulate_site_failure/">Simulate site failure</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../scripting/use_a_file_to_control_bash_script_operation/">Use a file to control bash script operation</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Time</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../../time/Clock_Sources_and_System_Time/">Clock Sources and System Time</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../time/Clock_Synchronization_and_NTP/">Clock Synchronization and NTP</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../time/Div-Clock_Synchronization_and_NTP/">Div Clock Synchronization and NTP</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../time/NTP_Authentication/">NTP Authentication</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../time/Setting_time/">Setting time</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../../time/linux_clocksource_benchmark-2.c/">Linux clocksource benchmark 2.c</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">Seamus Murray's Notes about Linux and System Engineering</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Programming</li>
          <li class="breadcrumb-item">C programming</li>
      <li class="breadcrumb-item active">Programmable keyboard</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <pre><code>#include &lt;stdio.h&gt;
#include &lt;strings.h&gt;

/*
this program will generate a keyboard macro file that can be uploaded to the maxkeybaord nighthawk x8.
The file can be uploaded to the keyboard  by importing via the maxkeyboard "Gaming keyboard config" software.
 *
 *
usage: binaryname &lt; inputfile of text you want to type
Maxkeyboard nighthawk x8 Macro generator



Todo..
* figure out the upload protocol and validation
* write a linux program to upload the macro
 * figure out how to upload data to the flash memory in the 8 bit micro controller Freescale MC9S08JM16 
     http://cache.freescale.com/files/microcontrollers/doc/data_sheet/MC9S08JM16.pdf
     USB-LITE Stack by CMX and the USB-MINI Stack by Freescale

  * capture and analyse the usbdata using usbpcap http://desowin.org/usbpcap/ and wireshark //done
  * write a http://desowin.org/usbpcap/dissectors.html


http://www.maxkeyboard.com/download.html

Details regarding the file format that the Maykeyboard software uses.

The config file is a plain text file


each macro is stored as a series of bytes

sample blank config with the 11202 zeros redacted...
[Setting]
MacroLength=0
DiableWinKey=0
[BUTTONCONFIG0]
FunID=255
Mappinkey=255
[MACROG0]
RepeatOption=0
Macro={hex values for the macro + a checksum}
MacroLength=0
[BUTTONCONFIG1]
FunID=255
Mappinkey=255
[MACROG1]
RepeatOption=0
Macro={hex values for the macro + a checksum}
MacroLength=0
[BUTTONCONFIG2]
FunID=255
Mappinkey=255
[MACROG2]
RepeatOption=0
Macro={hex values for the macro + a checksum}
MacroLength=0



[BUTTONCONFIG0] the macro number/id
FunID=32 (seems to indicate keyboard macro)
Mappinkey= this is the physical key on the keyboard that is assigned to this macro, 1 = F1 , 2 = F2 etc
[MACROG0] the macro group this macro belongs to ( I haven't used this yet)
RepeatOption=1   this needs to be set to 1 or the macro will not run
Macro= a single line with 11204 chars, seems to be divided up into 700 x 16 byte words..  the last 2 chars on this line seem to be a checksum that isn't validated (it changes when anything else changes)
MacroLength= a count of the 16 char words,this needs to be set based on the line above


# The Macro format.........

each char that requires a single key press takes 4 x 16 byte words

.1 key value press
.2 key time down
.3 key value release
.4 key time release

## if the inputed key requires 2 key presses eg.. upper case or special chars !@#...... then 8 x 16 byte words are needed
.1 shift key value press 
.2 shift time down
.3 key value press 
.4 key time down
.5 key value release
.6 key time release
.7 shift key release 
.8 shift time release

the timing is based on milliseconds and stored in hex
the largest timing value seems to be 6375 milliseconds or 18E7
eg 
       50 milliseconds = 32
      100 milliseconds = 64
      125 milliseconds = 7D

the values are stored in the file in little endian notation ( least significant byte first )
eg... the hex value 18E7  is stored as E718

      Decimal =         6375
      Hex     =         18E7       
      In File = FF000000E718000000



example press of 'a' for 100 milliseconds with a 100 millisecond gap at end   
X = value that can be changed
                ____________    ____________    ____________    ____________  
               /            \  /            \  /            \  /            \ 
              | Key to press || Time to press||Key to release|| Time after   |
              1400000001000000FF000000640000001400000000000000FF00000064000000
Key Value     XX                              XX                              
Static value    0000000 000000                  0000000 000000                
Press/Release          X                               X

Static value                  FF000000                        FF000000        
Time Value                            XXXX                            XXXX

example press of 'a' for 1000 milliseconds with a 100 millisecond gap at end  
                ____________    ____________    ____________    ____________  
               /            \  /            \  /            \  /            \ 
              | Key to press || Time to press||Key to release|| Time after   |
              1400000001000000FF000000E60300001400000000000000FF00000064000000
Key Value     XX                              XX                              
Static value    0000000 000000                  0000000 000000                
Press/Release          X                               X                      
Static value                  FF000000                        FF000000        
Time Value                            XXXX                            XXXX


100mSec       FF00000064000000
Key_press       00000001000000
key_release     00000000000000

to enter the exclamation mark ! on the US keyboard...requires that the shift key is pressed whilst the 1 key is pressed

shift key on,     8300000001000000FF00000012020000    //this time has to extend past the next key
1 key on and off, 1100000001000000FF0000005E0000001100000000000000FF00000048010000
shiftkey  off,    8300000000000000FF00000000000000




below is a list of the key values for the US keyboard layout

key value



Incomplete list of the control keys
shift  83
capslk 1B
space  57
TAB    13
L CTRL 88
L ALT  7D
Enter  56
BKSPC  53


List of the keys that only require one key to the pressed
a 14
b 2F
c 26
d 24
e 22
f 2C
g 2D
h 35
i 3A
j 34
k 3C
l 44
m 36
n 37
o 42
p 4A
q 12
r 2A
s 1C
t 2B
u 32
v 2E
w 1A
x 1E
y 33
z 16
1 11
2 19
3 21
4 29
5 28
6 30
7 31
8 39
9 41
0 49
- 48
= 38
[ 4B
] 3B
\ 54
; 4C
' 4D
, 3E
. 46
/ 4F
` 10
  57


Keys that require the shift key to be pressed simultaneously 
~ 10
! 11
@ 19
# 21
$ 29
% 28
^ 30
&amp; 31
* 39
( 41
) 49
_ 48
+ 38
{ 4B
} 3B
| 54
: 4C
" 4D
&lt; 3E
&gt; 46
? 4F

A 14
B 2F
C 26
D 24
E 22
F 2C
G 2D
H 35
I 3A
J 34
K 3C
L 44
M 36
N 37
O 42
P 4A
Q 12
R 2A
S 1C
T 2B
U 32
V 2E
W 1A
X 1E
Y 33
Z 16

 each macro will be an array of 11204 chars, initialized with zeros, 
 monitoring the usb bus whilst uploading a config that contains mostly zeros 
 not seems to be transferred to the keyboard i assume that are only used my the maxkeyboard software


 Macro length limit... 
 we are limited to 700 16Byte words in each macro ,
  #1 key value press = 16 Byte word
  #2 key time down = 16 Byte word
  #3 key value release = 16 Byte word
  #4 key time release = 16 Byte word

this equates to 175 key press and key release actions.
Note if you require multiple keys to be pressed simultaneously it will use more bytes eg the shift + key stated above

make sure you do not go over the 700 limit, leave a few bytes free. 
If you enter a invalid macro config...sometimes all the keyboard macros stop working
performing a reset from the app or uploading an empty config does not reset the key board.
Strangely overwriting/applying a valid (previously exported) config containing  multiple macros will restore the keyboards macro functions

*/



int main()
{
    int c, char_tally, MacroLength;
    unsigned char key_value;
    int shift_status; //for future use if i decided to extend the shift press for sequential upper keys
    char* key_press = "00000001000000";
    char* key_release = "00000000000000";
    // there are 4 different timings 25 milliseconds doesn't seem to work
    // 50 milliseconds seems like a good mix between speed and consistency
    // 100 milliseconds may be needed when working through multiple remote nested RDP citrix vnx etc..
    // 150 milliseconds is to hold the shift down past the timing of the upper keys
    char* key_time_down_25 = "FF00000019000000";
    char* key_time_down_50 = "FF00000032000000";
    char* key_time_down_100 = "FF00000064000000";
    char* key_time_down_150 = "FF00000096000000";
    char* key_time_release_25 = "FF00000019000000";
    char* key_time_release_50 = "FF00000032000000";
    char* key_time_release_100 = "FF00000064000000";
    char* key_time_release_150 = "FF00000096000000";
    char* shift_key_press = "8300000001000000";
    char* shift_key_release = "8300000000000000";
    char* zero_fill = "0000000000000000";
    key_value = 0;
    char_tally = 0;
    MacroLength = 0;
    shift_status = 0;


    char single_lowwer(char c)
           {
           //printf("%hhX%s%s%hhX%s%s",key_value, key_press, key_time_down_100, key_value,key_release, key_time_release_100 );
           printf("%hhX%s%s%hhX%s%s",key_value, key_press, key_time_down_50, key_value,key_release, key_time_release_50 );
           MacroLength = MacroLength + 4;
             }

    char single_upper(char c)
           {
           printf("%s%s",shift_key_press, key_time_down_150  );
           printf("%hhX%s%s%hhX%s%s", key_value, key_press, key_time_down_100, key_value,key_release, key_time_release_100 );
           printf("%s%s", shift_key_release, key_time_release_50 );
           MacroLength = MacroLength + 8;
             }

 /*I acknowledge that there are more efficient ways to organize this data, 
   such as using arrays, matrices, or other data structures. 
   I am also aware that a lengthy if/else statement are visually unappealing.
   I generated the if/else statements from a bash script.
*/


   while ((c= getchar()) != EOF) {
      ++char_tally;
      if (c == 'a' ){
             key_value = 0x14;
              single_lowwer(c);
             }
      else if ( c == 'b' ){
             key_value = 0x2F;
             single_lowwer(c);
             }
      else if ( c == 'c' ){
             key_value = 0x26;
             single_lowwer(c);
             }
      else if ( c == 'd' ){
             key_value = 0x24;
             single_lowwer(c);
             }
      else if ( c == 'e' ){
             key_value = 0x22;
             single_lowwer(c);
             }
      else if ( c == 'f' ){
             key_value = 0x2C;
             single_lowwer(c);
             }
      else if ( c == 'g' ){
             key_value = 0x2D;
             single_lowwer(c);
             }
      else if ( c == 'h' ){
             key_value = 0x35;
             single_lowwer(c);
             }
      else if ( c == 'i' ){
             key_value = 0x3A;
             single_lowwer(c);
             }
      else if ( c == 'j' ){
             key_value = 0x34;
             single_lowwer(c);
             }
      else if ( c == 'k' ){
             key_value = 0x3C;
             single_lowwer(c);
             }
      else if ( c == 'l' ){
             key_value = 0x44;
             single_lowwer(c);
             }
      else if ( c == 'm' ){
             key_value = 0x36;
             single_lowwer(c);
             }
      else if ( c == 'n' ){
             key_value = 0x37;
             single_lowwer(c);
             }
      else if ( c == 'o' ){
             key_value = 0x42;
             single_lowwer(c);
             }
      else if ( c == 'p' ){
             key_value = 0x4A;
             single_lowwer(c);
             }
      else if ( c == 'q' ){
             key_value = 0x12;
             single_lowwer(c);
             }
      else if ( c == 'r' ){
             key_value = 0x2A;
             single_lowwer(c);
             }
      else if ( c == 's' ){
             key_value = 0x1C;
             single_lowwer(c);
             }
      else if ( c == 't' ){
             key_value = 0x2B;
             single_lowwer(c);
             }
      else if ( c == 'u' ){
             key_value = 0x32;
             single_lowwer(c);
             }
      else if ( c == 'v' ){
             key_value = 0x2E;
             single_lowwer(c);
             }
      else if ( c == 'w' ){
             key_value = 0x1A;
             single_lowwer(c);
             }
      else if ( c == 'x' ){
             key_value = 0x1E;
             single_lowwer(c);
             }
      else if ( c == 'y' ){
             key_value = 0x33;
             single_lowwer(c);
             }
      else if ( c == 'z' ){
             key_value = 0x16;
             single_lowwer(c);
             }
      else if ( c == '1' ){
             key_value = 0x11;
             single_lowwer(c);
             }
      else if ( c == '2' ){
             key_value = 0x19;
             single_lowwer(c);
             }
      else if ( c == '3' ){
             key_value = 0x21;
             single_lowwer(c);
             }
      else if ( c == '4' ){
             key_value = 0x29;
             single_lowwer(c);
             }
      else if ( c == '5' ){
             key_value = 0x28;
             single_lowwer(c);
             }
      else if ( c == '6' ){
             key_value = 0x30;
             single_lowwer(c);
             }
      else if ( c == '7' ){
             key_value = 0x31;
             single_lowwer(c);
             }
      else if ( c == '8' ){
             key_value = 0x39;
             single_lowwer(c);
             }
      else if ( c == '9' ){
             key_value = 0x41;
             single_lowwer(c);
             }
      else if ( c == '0' ){
             key_value = 0x49;
             single_lowwer(c);
             }
      else if ( c == '-' ){
             key_value = 0x48;
             single_lowwer(c);
             }
      else if ( c == '=' ){
             key_value = 0x38;
             single_lowwer(c);
             }
      else if ( c == '[' ){
             key_value = 0x4B;
             single_lowwer(c);
             }
      else if ( c == ']' ){
             key_value = 0x3B;
             single_lowwer(c);
             }
      else if ( c == '\\' ){
             key_value = 0x54;
             single_lowwer(c);
             }
      else if ( c == ';' ){
             key_value = 0x4C;
             single_lowwer(c);
             }
      else if ( c == '8' ){
             key_value = 0x39;
             single_lowwer(c);
             }
      else if ( c == '9' ){
             key_value = 0x41;
             single_lowwer(c);
             }
      else if ( c == '0' ){
             key_value = 0x49;
             single_lowwer(c);
             }
      else if ( c == '-' ){
             key_value = 0x48;
             single_lowwer(c);
             }
      else if ( c == '=' ){
             key_value = 0x38;
             single_lowwer(c);
             }
      else if ( c == '[' ){
             key_value = 0x4B;
             single_lowwer(c);
             }
      else if ( c == ']' ){
             key_value = 0x3B;
             single_lowwer(c);
             }
      else if ( c == '\\' ){
             key_value = 0x54;
             single_lowwer(c);
             }
      else if ( c == '\'' ){
             key_value = 0x4D;
             single_lowwer(c);
             }
      else if ( c == ',' ){
             key_value = 0x3E;
             single_lowwer(c);
             }
      else if ( c == '.' ){
             key_value = 0x46;
             single_lowwer(c);
             }
      else if ( c == '/' ){
             key_value = 0x4F;
             single_lowwer(c);
             }
      else if ( c == '`' ){
             key_value = 0x10;
             single_lowwer(c);
             }
      else if ( c == ' ' ){
             key_value = 0x57;
             single_lowwer(c);
             }
      //start of shift key
      else if ( c == '~' ){
             key_value = 0x10;
             single_upper(c);
             }
      else if ( c == '!' ){
             key_value = 0x11;
             single_upper(c);
             }
      else if ( c == '@' ){
             key_value = 0x19;
             single_upper(c);
             }
      else if ( c == '#' ){
             key_value = 0x21;
             single_upper(c);
             }
      else if ( c == '$' ){
             key_value = 0x29;
             single_upper(c);
             }
      else if ( c == '%' ){
             key_value = 0x28;
             single_upper(c);
             }
      else if ( c == '^' ){
             key_value = 0x30;
             single_upper(c);
             }
      else if ( c == '&amp;' ){
             key_value = 0x31;
             single_upper(c);
             }
      else if ( c == '*' ){
             key_value = 0x39;
             single_upper(c);
             }
      else if ( c == '(' ){
             key_value = 0x41;
             single_upper(c);
             }
      else if ( c == ')' ){
             key_value = 0x49;
             single_upper(c);
             }
      else if ( c == '_' ){
             key_value = 0x48;
             single_upper(c);
             }
      else if ( c == '+' ){
             key_value = 0x38;
             single_upper(c);
             }
      else if ( c == '{' ){
             key_value = 0x4B;
             single_upper(c);
             }
      else if ( c == '}' ){
             key_value = 0x3B;
             single_upper(c);
             }
      else if ( c == '|' ){
             key_value = 0x54;
             single_upper(c);
             }
      else if ( c == ':' ){
             key_value = 0x4C;
             single_upper(c);
             }
      else if ( c == '"' ){
             key_value = 0x4D;
             single_upper(c);
             }
      else if ( c == '&lt;' ){
             key_value = 0x3E;
             single_upper(c);
             }
      else if ( c == '&gt;' ){
             key_value = 0x46;
             single_upper(c);
             }
      else if ( c == '?' ){
             key_value = 0x4F;
             single_upper(c);
             }
      else if ( c == 'A' ){
             key_value = 0x14;
             single_upper(c);
             }
      else if ( c == 'B' ){
             key_value = 0x2F;
             single_upper(c);
             }
      else if ( c == 'C' ){
             key_value = 0x26;
             single_upper(c);
             }
      else if ( c == 'D' ){
             key_value = 0x24;
             single_upper(c);
             }
      else if ( c == 'E' ){
             key_value = 0x22;
             single_upper(c);
             }
      else if ( c == 'F' ){
             key_value = 0x2C;
             single_upper(c);
             }
      else if ( c == 'G' ){
             key_value = 0x2D;
             single_upper(c);
             }
      else if ( c == 'H' ){
             key_value = 0x35;
             single_upper(c);
             }
      else if ( c == 'I' ){
             key_value = 0x3A;
             single_upper(c);
             }
      else if ( c == 'J' ){
             key_value = 0x34;
             single_upper(c);
             }
      else if ( c == 'K' ){
             key_value = 0x3C;
             single_upper(c);
             }
      else if ( c == 'L' ){
             key_value = 0x44;
             single_upper(c);
             }
      else if ( c == 'M' ){
             key_value = 0x36;
             single_upper(c);
             }
      else if ( c == 'N' ){
             key_value = 0x37;
             single_upper(c);
             }
      else if ( c == 'O' ){
             key_value = 0x42;
             single_upper(c);
             }
      else if ( c == 'P' ){
             key_value = 0x4A;
             single_upper(c);
             }
      else if ( c == 'Q' ){
             key_value = 0x12;
             single_upper(c);
             }
      else if ( c == 'R' ){
             key_value = 0x2A;
             single_upper(c);
             }
      else if ( c == 'S' ){
             key_value = 0x1C;
             single_upper(c);
             }
      else if ( c == 'T' ){
             key_value = 0x2B;
             single_upper(c);
             }
      else if ( c == 'U' ){
             key_value = 0x32;
             single_upper(c);
             }
      else if ( c == 'V' ){
             key_value = 0x2E;
             single_upper(c);
             }
      else if ( c == 'W' ){
             key_value = 0x1A;
             single_upper(c);
             }
      else if ( c == 'X' ){
             key_value = 0x1E;
             single_upper(c);
             }
      else if ( c == 'Y' ){
             key_value = 0x33;
             single_upper(c);
             }
      else if ( c == 'Z' ){
             key_value = 0x16;
             single_upper(c);
             }
      else if ( c == '\n' ){
//            printf("new line\n"); 
//write something so that an empty line equates to an enter maybe use get line
             }

      else
           printf("Invalid input char\n");


}


    if ( MacroLength &gt; 700 )
        printf("\n\n\nWARNING #######  Macro length too long\n");
    int i;
    for(i = (700 - MacroLength) ; i &gt; 0 ; i--)
        printf("%s",zero_fill);
     printf("AB\n");//fake checksum
     printf("MacroLength=%d\n" , MacroLength);
     printf("\nzero fill bytes %d\n", (700 - MacroLength ));
     printf("\n"); 
return 0;
}
</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../linux_clocksource_benchmark/" class="btn btn-neutral float-left" title="Linux clocksource benchmark"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../../../puppet/puppet_study_notes/" class="btn btn-neutral float-right" title="Puppet study notes">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../linux_clocksource_benchmark/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../../../puppet/puppet_study_notes/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../../..";</script>
    <script src="../../../js/theme_extra.js"></script>
    <script src="../../../js/theme.js"></script>
      <script src="../../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
